{% extends "base.html" %}

{% block title %}Gestion des utilisateurs{% endblock %}
{% block header %}Liste des utilisateurs{% endblock %}

{% block content %}
<h2>Profils utilisateur</h2>

<div style="text-align: right; margin-bottom: 10px;">
    <a href="{% url 'userprofile_create' %}" class="btn btn-primary">
        <i class="fas fa-plus"></i>Créer un utilisateur
    </a>
</div>

<table>
    <thead>
        <tr>
            <th>Nom complet</th>
            <th>Email</th>
            <th>Role</th>
            <th>Statut</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for profile in profiles %}
        <tr>
            <td>{{ profile.fullName }}</td>
            <td>{{ profile.email }}</td>
            <td>{{ profile.role.name }}</td>
            <td><span class="label"> Compte {% if profile.active %} actif {% else %}  désactivé {% endif %} </span></td>
            <td class="table-actions">
                <a href="{% url 'userprofile_detail' profile.id %}" class="btn btn-info">
                    <i class="fas fa-eye"></i>Voir
                </a>
                <a href="{% url 'userprofile_update' profile.id %}" class="btn btn-secondary">
                    <i class="fas fa-edit"></i> Modifier
                </a>
                <a href="{% url 'userprofile_delete' profile.id %}" class="btn btn-danger"> 
                    <i class="fas fa-trash-alt"></i> Supprimer
                </a>
            
            </td>
        </tr>
        {% endfor %}
        
    </tbody>
</table>
{% endblock %}
